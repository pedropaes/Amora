@{
    ViewData["Title"] = "Tutorial";
}
<script src="//code.responsivevoice.org/responsivevoice.js?key=3G053CLH"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
<script>
    function speak(input) {
        responsiveVoice.speak(input, "Portuguese Female");
    }
</script>


<script>
    function wait(ms) {
        var d = new Date();
        var d2 = null;
        do { d2 = new Date(); }
        while (d2 - d < ms);
    }

    var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;
    var SpeechGrammarList = SpeechGrammarList || webkitSpeechGrammarList;
    var audio = new Audio('/sounds/beep.mp3');
    var grammar = '#JSGF V1.0;'
    var recognition = new SpeechRecognition();
    var speechRecognitionList = new SpeechGrammarList();
    speechRecognitionList.addFromString(grammar, 1);
    recognition.grammars = speechRecognitionList;
    recognition.lang = 'pt-PT';
    recognition.interimResults = false;
    window.onload = function () {
        if (annyang) {
            // Let's define a command.
            console.log("It detected annyang");
            var commands = {
                'eloise': function () {
                    audio.play();

                    recognition.start();

                    wait(4000);



                }
            };

            // Add our commands to annyang
            annyang.addCommands(commands);

            // Start listening.
            annyang.start();
        }
    }



</script>

<script>


    recognition.onresult = function (event) {

        var last = event.results.length - 1;
        var command = event.results[last][0].transcript;
        document.getElementById('procura').setAttribute('value', command);
        document.getElementById('procurar').click();
        switch (command.toLowerCase()) {
            case 'procura *tag':
                document.getElementById('procura').setAttribute('value', tag);
                alert('cdoijcd' + tag);
                break;

                break;
            default:

            // code block
        }

    };
    recognition.onspeechend = function () {
        recognition.stop();
    };

    recognition.onerror = function (event) {
        message.textContent = 'Error occurred in recognition: ' + event.error;
    }
    document.querySelector('#btnGiveCommand').addEventListener('click', function () {
        recognition.start();
    });

</script>

<script>speak('A assistente Éloíse, poderá ser invocada dizendo o seu nome em voz alta, e quando ouvir um sinal sonoro poderá dizer um dos comandos disponíveis. Poderá procurar uma receita usando o comando de voz: Éloíse. seguido do nome do ingrediente, ou descrição da receita a procurar. Durante a preparação da receita poderá usar os comandos, próximo. anterior. sair. repete.  Consulte a tabela abaixo para ver todos os comandos disponíveis. Quando terminar, experimente invocar a Éloíse e dizer o nome de um qualquer ingrediente');</script>
<div class="text-center">
    <h1 class="display-4">Tutorial</h1>
    <p> A assistente <b>Eloíse</b> poderá ser invocada dizendo o seu nome em voz alta, e quando ouvir um sinal sonoro poderá dizer um dos comandos disponíveis.</p>

    <p>Poderá procurar uma receita usando o comando de voz, Eloíse. seguido do nome do ingrediente ou descrição da receita a procurar.</p>

    <p>
        Durante a preparação da receita os comandos disponíveis são:


        <table class="table">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Comando</th>
                    <th scope="col">Resultado</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">começar</th>
                    <td>Inicia a preparação da receita</td>
                </tr>
                <tr>
                    <th scope="row">próximo</th>
                    <td>Vai para o próximo passo</td>
                </tr>
                <tr>
                    <th scope="row">número</th>
                    <td>Vai para o passo correspondente</td>
                </tr>
                <tr>
                    <th scope="row">sair</th>
                    <td>Abandona a preparação da receita</td>
                </tr>
                <tr>
                    <th scope="row">repete</th>
                    <td>Repete a instrução do passo</td>
                </tr>
                <tr>
                    <th scope="row">tutorial</th>
                    <td>Regressa a esta página</td>
                </tr>

            </tbody>
        </table>


</div>